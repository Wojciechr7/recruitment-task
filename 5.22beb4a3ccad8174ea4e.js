(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"D+FD":function(t,e,r){"use strict";r.r(e),r.d(e,"DashboardModule",function(){return rt});var a=r("SVse"),n=r("iInd"),s=r("tqRt");const c=Object(s.o)("[Dashboard Page] Init"),i=Object(s.o)("[Dashboard/API] Load Dashboard Success",Object(s.u)()),o=Object(s.o)("[Dashboard/API] Load Dashboard Failure",Object(s.u)()),b=Object(s.o)("[Dashboard Page] Move Dish To Cart",Object(s.u)()),d=Object(s.o)("[Dashboard Page] Remove Dish From Cart",Object(s.u)());var u=r("7MCK");const l="dashboard",h=Object(u.a)(),p=h.getInitialState({loaded:!1,cart:[]}),g=Object(s.q)(p,Object(s.t)(c,t=>Object.assign(Object.assign({},t),{loaded:!1,error:null,cart:[]})),Object(s.t)(i,(t,{dashboard:e})=>h.setAll(e,Object.assign(Object.assign({},t),{loaded:!0}))),Object(s.t)(o,(t,{error:e})=>Object.assign(Object.assign({},t),{error:e})),Object(s.t)(b,(t,{dish:e})=>h.setOne(Object.assign(Object.assign({},e),{available:!1}),Object.assign(Object.assign({},t),{cart:[...t.cart,e]}))),Object(s.t)(d,(t,{dish:e})=>h.setOne(Object.assign(Object.assign({},e),{available:!0}),Object.assign(Object.assign({},t),{cart:t.cart.filter(t=>t.id!==e.id)}))));function m(t,e){return g(t,e)}const f=Object(s.p)(l),{selectAll:O,selectEntities:j}=h.getSelectors(),v=Object(s.r)(f,t=>t.loaded),C=(Object(s.r)(f,t=>t.error),Object(s.r)(f,t=>O(t))),y=Object(s.r)(f,t=>j(t)),w=Object(s.r)(f,t=>t.selectedId),x=Object(s.r)(y,w,(t,e)=>e&&t[e]),P=Object(s.r)(f,t=>t.cart);var k=r("8Y7J");let F=(()=>{class t{constructor(t){this.store=t,this.loaded$=this.store.pipe(Object(s.v)(v)),this.allDashboard$=this.store.pipe(Object(s.v)(C)),this.selectedDashboard$=this.store.pipe(Object(s.v)(x)),this.cart$=this.store.pipe(Object(s.v)(P))}init(){this.store.dispatch(c())}addToCart(t){this.store.dispatch(b({dish:t}))}removeFromCart(t){this.store.dispatch(d({dish:t}))}}return t.\u0275fac=function(e){return new(e||t)(k.Wb(s.i))},t.\u0275prov=k.Ib({token:t,factory:t.\u0275fac}),t})();var M=r("VDRc"),I=r("Dxy4"),S=r("Tj54"),R=r("7Cbv");class D{constructor(t,e,r){this.name=t,this.description=e,this.type=r,this.id=Object(R.a)(),this.available=!0}}var _=function(t){return t[t.Burger=0]="Burger",t[t.Pasta=1]="Pasta",t}({}),$=r("RxxQ");let L=(()=>{class t{constructor(t){this.dashboardFacade=t}ngOnInit(){}addToCart(t){this.dashboardFacade.addToCart(t)}getImgName(t){switch(t.type){case _.Burger:return"burger.jpg";case _.Pasta:return"pasta.jpg"}}}return t.\u0275fac=function(e){return new(e||t)(k.Mb(F))},t.\u0275cmp=k.Gb({type:t,selectors:[["recruitment-task-menu-list-item"]],inputs:{dish:"dish"},decls:7,vars:6,consts:[[1,"list-item",3,"disabled","addItem"],["color","primary","mat-fab","",1,"image",3,"disabled"],["fxLayout","column"],[1,"item-desc"]],template:function(t,e){1&t&&(k.Sb(0,"recruitment-task-list-item",0),k.ac("addItem",function(){return e.addToCart(e.dish)}),k.Nb(1,"a",1),k.Sb(2,"div",2),k.Sb(3,"b"),k.rc(4),k.Rb(),k.Sb(5,"span",3),k.rc(6),k.Rb(),k.Rb(),k.Rb()),2&t&&(k.hc("disabled",!e.dish.available),k.Cb(1),k.oc("background-image","url(assets/images/"+e.getImgName(e.dish)+")"),k.hc("disabled",!e.dish.available),k.Cb(3),k.sc(e.dish.name),k.Cb(2),k.sc(e.dish.description))},directives:[$.a,I.a,M.c],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{box-sizing:border-box;height:100%;margin:0;font-family:Roboto,Helvetica Neue,sans-serif}.list-item[_ngcontent-%COMP%]{margin-top:5px}.list-item[_ngcontent-%COMP%]   a.image[_ngcontent-%COMP%]{background-color:transparent;background-repeat:no-repeat;background-size:cover;background-position:50%}.list-item[_ngcontent-%COMP%]   .item-desc[_ngcontent-%COMP%]{color:#7a7979}"]}),t})();function B(t,e){1&t&&k.Nb(0,"recruitment-task-menu-list-item",5),2&t&&k.hc("dish",e.$implicit)}let A=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=k.Gb({type:t,selectors:[["recruitment-task-menu-list"]],inputs:{dishes:"dishes"},decls:8,vars:1,consts:[["fxLayout","column",1,"menu-list-wrapper"],[1,"menu-button-container"],["mat-raised-button",""],[1,"menu-list"],[3,"dish",4,"ngFor","ngForOf"],[3,"dish"]],template:function(t,e){1&t&&(k.Sb(0,"div",0),k.Sb(1,"div",1),k.Sb(2,"button",2),k.Sb(3,"mat-icon"),k.rc(4,"menu"),k.Rb(),k.rc(5,"Menu"),k.Rb(),k.Rb(),k.Sb(6,"div",3),k.pc(7,B,1,1,"recruitment-task-menu-list-item",4),k.Rb(),k.Rb()),2&t&&(k.Cb(7),k.hc("ngForOf",e.dishes))},directives:[M.c,I.b,S.a,a.j,L],styles:[".menu-list-wrapper[_ngcontent-%COMP%]{border-top:1px solid #000;border-right:1px solid #000}.menu-list-wrapper[_ngcontent-%COMP%]   .menu-button-container[_ngcontent-%COMP%]{padding:10px}.menu-list-wrapper[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]{background:#f3f1f1;margin:10px 40px 10px 10px}"]}),t})();function N(t,e){if(1&t){const t=k.Tb();k.Sb(0,"div",8),k.Sb(1,"b"),k.rc(2),k.Rb(),k.Sb(3,"mat-icon",9),k.ac("click",function(){k.lc(t);const r=e.$implicit;return k.cc(3).removeDishFromCart(r)}),k.rc(4,"close"),k.Rb(),k.Rb()}if(2&t){const t=e.$implicit;k.Cb(2),k.sc(t.name)}}function T(t,e){if(1&t&&(k.Qb(0),k.pc(1,N,5,1,"div",7),k.Pb()),2&t){const t=k.cc().ngIf;k.Cb(1),k.hc("ngForOf",t)}}function z(t,e){if(1&t&&(k.Sb(0,"div",5),k.pc(1,T,2,1,"ng-container",6),k.Rb()),2&t){const t=e.ngIf;k.cc();const r=k.kc(9);k.Cb(1),k.hc("ngIf",t.length)("ngIfElse",r)}}function E(t,e){1&t&&(k.Sb(0,"div",10),k.Sb(1,"button",11),k.rc(2,"Empty!"),k.Rb(),k.Rb())}let G=(()=>{class t{constructor(t){this.dashboardFacade=t}ngOnInit(){this.cart$=this.dashboardFacade.cart$}removeDishFromCart(t){this.dashboardFacade.removeFromCart(t)}}return t.\u0275fac=function(e){return new(e||t)(k.Mb(F))},t.\u0275cmp=k.Gb({type:t,selectors:[["recruitment-task-card-list"]],decls:10,vars:3,consts:[["fxFlex","auto","fxLayout","column",1,"card-list-wrapper"],[1,"menu-button-container"],["mat-raised-button",""],["class","dishes-container","fxLayout","column",4,"ngIf"],["emptyCart",""],["fxLayout","column",1,"dishes-container"],[4,"ngIf","ngIfElse"],["fxFlex","auto","fxLayoutAlign","space-between center",4,"ngFor","ngForOf"],["fxFlex","auto","fxLayoutAlign","space-between center"],[1,"remove-dish-button",3,"click"],["fxFlex","auto","fxLayoutAlign","center center"],["mat-raised-button","","disabled",""]],template:function(t,e){1&t&&(k.Sb(0,"div",0),k.Sb(1,"div",1),k.Sb(2,"button",2),k.Sb(3,"mat-icon"),k.rc(4,"shopping_cart"),k.Rb(),k.rc(5," Cart "),k.Rb(),k.Rb(),k.pc(6,z,2,2,"div",3),k.dc(7,"async"),k.pc(8,E,3,0,"ng-template",null,4,k.qc),k.Rb()),2&t&&(k.Cb(6),k.hc("ngIf",k.ec(7,1,e.cart$)))},directives:[M.a,M.c,I.b,S.a,a.k,a.j,M.b],pipes:[a.b],styles:[".card-list-wrapper[_ngcontent-%COMP%]{border-top:1px solid #000}.card-list-wrapper[_ngcontent-%COMP%]   .dishes-container[_ngcontent-%COMP%], .card-list-wrapper[_ngcontent-%COMP%]   .menu-button-container[_ngcontent-%COMP%]{padding:10px}.card-list-wrapper[_ngcontent-%COMP%]   .dishes-container[_ngcontent-%COMP%]   .remove-dish-button[_ngcontent-%COMP%]{cursor:pointer}"]}),t})(),J=(()=>{class t{constructor(t,e){this.route=t,this.dashboardFacade=e}ngOnInit(){this.dishes$=this.dashboardFacade.allDashboard$}}return t.\u0275fac=function(e){return new(e||t)(k.Mb(n.a),k.Mb(F))},t.\u0275cmp=k.Gb({type:t,selectors:[["recruitment-task-dashboard"]],decls:4,vars:3,consts:[["fxFlex","auto","fxLayout","row wrap","fxLayout.lt-md","column",1,"dashboard-container"],["fxFlex","70",3,"dishes"],["fxFlex","auto"]],template:function(t,e){1&t&&(k.Sb(0,"div",0),k.Nb(1,"recruitment-task-menu-list",1),k.dc(2,"async"),k.Nb(3,"recruitment-task-card-list",2),k.Rb()),2&t&&(k.Cb(1),k.hc("dishes",k.ec(2,1,e.dishes$)))},directives:[M.a,M.c,A,G],pipes:[a.b],styles:[".dashboard-container[_ngcontent-%COMP%]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}"]}),t})();var Q=r("pLZG"),W=r("SxV6");let q=(()=>{class t{constructor(t){this.dashboardFacade=t}resolve(t,e){return this.dashboardFacade.init(),this.dashboardFacade.allDashboard$.pipe(Object(Q.a)(t=>!!t.length),Object(W.a)())}}return t.\u0275fac=function(e){return new(e||t)(k.Wb(F))},t.\u0275prov=k.Ib({token:t,factory:t.\u0275fac}),t})();const K=[{path:"",component:J,resolve:{dishes:q}}];let V=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=k.Kb({type:t}),t.\u0275inj=k.Jb({imports:[[n.g.forChild(K)],n.g]}),t})();var Y=r("QYc0"),Z=r("7bNT"),H=r("ZB9N"),U=r("LRne");let X=(()=>{class t{constructor(){}getAllDishes(){return Object(U.a)([new D("Burger Cheese","classic + cheddar",_.Burger),new D("Burger BBQ","classic + bekon, sos BBQ",_.Burger),new D("Burger Tropical","classic + cheddar + grilowany ananas",_.Burger),new D("Pasta Pepperoni","pepperoni, sos pomidorowy, papryczki jalapeno",_.Pasta),new D("Pasta La Cotta","pomidorki cherry, pomidor \u015bwie\u017cy, papryczki chili",_.Pasta),new D("Pasta Gemberetti","krewetki tygrysie, sos \u015bwietanowy, cukinia, papryczka chili",_.Pasta)])}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=k.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var tt=r("lJxs");let et=(()=>{class t{constructor(t,e){this.actions$=t,this.dashboardService=e,this.init$=Object(Z.c)(()=>this.actions$.pipe(Object(Z.d)(c),Object(H.a)({run:t=>this.dashboardService.getAllDishes().pipe(Object(tt.a)(t=>i({dashboard:t}))),onError:(t,e)=>(console.error("Error",e),o({error:e}))})))}}return t.\u0275fac=function(e){return new(e||t)(k.Wb(Z.a),k.Wb(X))},t.\u0275prov=k.Ib({token:t,factory:t.\u0275fac}),t})(),rt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=k.Kb({type:t}),t.\u0275inj=k.Jb({providers:[F,q],imports:[[a.c,V,Y.a,s.k.forFeature(l,m),Z.b.forFeature([et])]]}),t})()}}]);